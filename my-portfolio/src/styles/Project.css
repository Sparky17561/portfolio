:root {
  --navbar-height: 0px;   /* keep in sync with Projects.jsx */
  --intro-height: 50px;   /* keep in sync with Projects.jsx */
}

/* reset to avoid unexpected gaps */
html, body {
  margin: 0;
  padding: 0;
}

/* ---------- Projects container ---------- */
.projects-section {
  background: transparent;
  color: white;
  position: relative;
  overflow: visible;
}

/* Sticky intro: stays under the navbar (so the "black band" remains fixed)
   Lowered z-index so typical site navbars (which usually have higher z-index) remain above it.
*/
.projects-intro {
  height: var(--intro-height);
  position: sticky;
  top: var(--navbar-height);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 10; /* kept small so navbar stays on top */
  background: linear-gradient(180deg, rgba(0,0,0,0.98), rgba(0,0,0,0.98));
  padding: 4rem 2rem;
  box-sizing: border-box;
}

/* Titles */
.projects-main-title {
  font-size: 3.6rem;
  font-weight: 700;
  margin: 0;
  /* gradient text - white to grey */
  background: linear-gradient(
    90deg,
    #ffffff 0%,
    #e5e5e5 25%,
    #cccccc 50%,
    #e5e5e5 75%,
    #ffffff 100%
  );
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: gradientShiftWhite 8s linear infinite;
}

.projects-description {
  margin: 6px 0 0;
  color: #dcdcdc;
  font-size: 1.05rem;
}

@keyframes gradientShiftWhite {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* ---------- Slideshow area (reduced to fit remaining viewport) ---------- */
.project-slideshow {
  margin-top: 0;
  height: calc(100vh - var(--navbar-height) - var(--intro-height));
  position: relative;
  z-index: 5; /* below intro (10) and below navbar (which should have a higher z-index) */
  overflow: hidden;
}

.project-slider {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* dim overlay above slides so text pops; z-index kept lower than intro */
.project-slider::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1; /* very low so intro and link can be above */
  pointer-events: none;
  background: rgba(0,0,0,0.32);
  transition: background 0.25s ease;
}

/* slides */
.project-slide {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  will-change: transform;
  overflow: hidden;
  z-index: 0;
}

.project-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  transform-origin: center center;
  transform: scale(1.06);
}

/* content overlay (left) */
.project-content-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 48%;
  height: 100%;
  z-index: 2; /* above dim but below intro (10) */
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 2.25rem 3rem;
  pointer-events: none;
  background: linear-gradient(
    90deg,
    rgba(0,0,0,0.56) 0%,
    rgba(0,0,0,0.40) 38%,
    rgba(0,0,0,0.20) 70%,
    transparent 100%
  );
}

.project-info { max-width: 520px; color: #fff; }
.project-title { font-size: 3.2rem; font-weight: 800; margin-bottom: 1rem; }

.project-title-text {
  background: linear-gradient(90deg, #ffffff 0%, #e5e5e5 35%, #cccccc 70%);
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: gradientShiftWhite 8s linear infinite;
}

.project-description-text { color: #dcdcdc; line-height: 1.5; margin-bottom: 1.5rem; }

.project-stack-items { display:flex; flex-wrap:wrap; gap:.7rem; }
.project-stack-item {
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: #ffffff;
  padding: .45rem .9rem;
  border-radius: 18px;
  font-size: .85rem;
}

/* indicators */
.project-slider-indicator {
  position: fixed;
  top: calc(var(--navbar-height) + var(--intro-height) + 10vh);
  right: 2rem;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: .9rem;
  z-index: 12; /* above intro and slideshow */
  opacity: 0;
  pointer-events: none;
}
.project-slider-indicator.show { opacity: 1; pointer-events: none; }

.project-index {
  width: 60px;
  height: 2px;
  transform-origin: right center;
  background: #ffffff;
  transform: scaleX(.5);
}
.project-index.active { transform: scaleX(1); }

/* LINK CIRCLE
   Brought much higher (closer to the top of the visible area) but still under the site navbar.
   z-index is high enough to appear above slideshow and intro content, but kept small so
   it's unlikely to exceed a site navbar that typically has big z-index.
*/
.project-link {
  position: fixed;
  top: calc(var(--navbar-height) + 500px); /* moved way up under navbar */
  right: 3.6%;
  width: 180px;
  height: 180px;
  z-index: 20; /* kept modest so typical site navbar (100+) remains above */
  opacity: 0;
  pointer-events: auto;
  transform: translateY(0);
  transition: transform 0.22s ease, opacity 0.22s ease;
}

.project-link.show {
  opacity: 1;
  transform: translateY(-4px);
}

.project-link-wrapper {
  position:absolute;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%);
  width:160px;
  height:160px;
  pointer-events:auto;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}

.project-link-wrapper::before {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  z-index: 19;
  pointer-events: none;
  box-shadow: 0 0 34px rgba(255, 255, 255, 0.06), 0 0 8px rgba(255, 255, 255, 0.04) inset;
  transition: box-shadow 0.25s ease;
}
.project-link-wrapper:hover::before {
  box-shadow: 0 0 48px rgba(255, 255, 255, 0.14), 0 0 12px rgba(255, 255, 255, 0.08) inset;
}

.project-link-wrapper a { display:block; width:100%; height:100%; }

.project-link-label { position:absolute; top:47.5%; left:50%; transform:translate(-50%,-50%); pointer-events:none; }
.project-line { height: 20px; overflow: hidden; }
.project-line-1 { position: relative; width: 60px; left: -2px; }
.project-line-2 { position: relative; width: 80px; left: 20px; }
.project-line p { position:absolute; transform: translateY(0); margin:0; color:#ffffff; }

/* Utility */
svg { pointer-events: none; }

/* responsive */
@media (max-width: 900px) {
  :root { --intro-height: 150px; }
  .project-content-overlay { width: 60%; padding: 1.6rem; }
  .projects-main-title { font-size: 2.4rem; }
  .project-title { font-size: 2rem; }
  .project-link { width: 140px; height: 140px; top: calc(var(--navbar-height) + 12px); right: 6%; }
  .project-link-wrapper { width: 120px; height: 120px; }
}


/* slide container centers the image */
.project-slide {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  will-change: transform;
  overflow: hidden;
  z-index: 0;

  /* center image inside the slide */
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(0,0,0,0.24), rgba(0,0,0,0.40)); /* subtle fill for letterbox */
}

/* image is contained (no crop), keeps aspect ratio */
.project-slide img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;       /* important: contain instead of cover */
  object-position: center;
  transform-origin: center center;
  transform: scale(1);       /* remove forced large scale */
  transition: transform 700ms cubic-bezier(.16,.84,.24,1);
}