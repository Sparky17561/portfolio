/* contact-section.css
   Fixed footer that sticks to bottom. Video background + overlay panel.
   Updated to avoid overflow & improve mobile layout.
*/

:root {
  --accent: #22c55e;
  --muted: rgba(255,255,255,0.45);
  --glass-border: rgba(34,197,94,0.04);
  --card-radius: 16px;
  --contact-footer-height: 360px; /* overwritten by JS at runtime */
}

/* ensure consistent box sizing */
*,
*::before,
*::after { box-sizing: border-box; }

/* The footer is fixed to the bottom and spans full width */
.contact-section {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100vh;
  max-height: 85vh;
  z-index: 9999;
  overflow: hidden; /* hide overflow from video or shadows */
  pointer-events: auto;
  background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.6));
  box-shadow: 0 -6px 40px rgba(0,0,0,0.6);
}

/* Video background covers the whole footer area */
.contact-media {
  position: absolute;
  inset: 0;
  z-index: 1;
  overflow: hidden;
  min-width: 0;
  min-height: 0;
}

/* Desktop: reduce video scale a bit, center and ensure cover without creating scrollbars */
.media-video {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  /* make sure it fully covers the footer but keep it slightly reduced to avoid pushing layout */
  min-width: 60%;
  min-height: 100%;
  width: auto;
  height: auto;
  object-fit: cover;
  object-position: center;
  pointer-events: none;
  user-select: none;
  -webkit-user-drag: none;
  max-width: none;
  max-height: none;
  filter: saturate(0.95) brightness(0.95);
}

/* overlay to darken video */
.media-overlay {
  position: absolute;
  inset: 0;
  z-index: 2;
  background: radial-gradient(circle at 20% 50%, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.22) 30%, rgba(0,0,0,0.6) 100%);
  mix-blend-mode: multiply;
  pointer-events: none;
}

/* loading spinner overlay */
.media-loading {
  position: absolute;
  inset: 0;
  z-index: 3;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction: column;
  gap: 10px;
  color: rgba(255,255,255,0.95);
  background: linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.36));
}
.spinner {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: 4px solid rgba(255,255,255,0.06);
  border-top-color: var(--accent);
  animation: spin 800ms linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading-text { font-size: 0.95rem; }

/* Top-level content that floats above the video */
.contact-content {
  position: relative;
  z-index: 4;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 28px;
  gap: 22px;
}

/* The panel (right on desktop) */
.contact-panel {
  width: 420px;
  max-width: calc(100% - 64px);
  margin-left: auto;
  background: linear-gradient(180deg, rgba(8,12,8,0.64), rgba(6,10,6,0.48));
  border-radius: var(--card-radius);
  padding: 22px;
  border: 1px solid var(--glass-border);
  box-shadow: 0 16px 40px rgba(0,0,0,0.6);
  backdrop-filter: blur(8px) saturate(1.1);
  color: #eafef3;
}

/* copy and links */
.panel-copy h3 { margin: 0 0 6px; color: var(--accent); font-size: 1.3rem; }
.panel-sub { margin:0 0 12px; color: var(--muted); font-size: 0.98rem; }
.panel-links { display:flex; flex-direction: column; gap: 10px; margin-bottom: 12px; }
.panel-link {
  display:block;
  padding: 12px 14px;
  border-radius: 10px;
  text-decoration: none;
  color: rgba(255,255,255,0.9);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));
  border: 1px solid rgba(255,255,255,0.02);
  font-weight: 600;
  transition: transform 160ms ease, background 160ms ease, box-shadow 160ms;
}
.panel-link:hover, .panel-link:focus {
  transform: translateX(6px);
  background: rgba(34,197,94,0.06);
  box-shadow: 0 12px 30px rgba(34,197,94,0.04);
  outline: none;
}

/* actions + socials */
.panel-actions { display:flex; align-items:center; gap: 12px; margin-top: 6px; }
.btn-email {
  display:inline-flex; align-items:center; gap: 10px;
  background: linear-gradient(180deg, rgba(34,197,94,0.12), rgba(34,197,94,0.06));
  padding: 10px 14px; border-radius: 12px; color: var(--accent); text-decoration:none; border: 1px solid rgba(34,197,94,0.12); font-weight:700;
}
.btn-email:hover, .btn-email:focus { transform: translateY(-3px); box-shadow: 0 20px 60px rgba(34,197,94,0.06); outline: none; }
.socials { display:flex; gap:10px; margin-left:auto; align-items:center; }
.icon {
  display:inline-grid; place-items:center; width:44px; height:44px; border-radius:10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));
  border: 1px solid rgba(34,197,94,0.03); color: #cfeee0; text-decoration:none;
  transition: transform 140ms ease, box-shadow 140ms ease, background 140ms;
}
.icon:hover, .icon:focus { transform: translateY(-4px); box-shadow: 0 18px 40px rgba(34,197,94,0.06); background: rgba(34,197,94,0.06); color: #eaffea; }

/* footer small copyright */
.panel-footer { margin-top: 16px; color: rgba(255,255,255,0.5); font-size: 0.9rem; }

/* Responsive: mobile stacking â€” the video becomes relative and the panel sits inside the flow */
@media (max-width: 980px) {
  .contact-section {
    /* On mobile we let footer be part of flow so user can scroll it fully */
    position: relative;
    --contact-footer-height: 900px; /* larger mobile height so panel content is visible */
    height: auto;
    min-height: var(--contact-footer-height);
    max-height: none;
  }
  .contact-media { position: relative; height: 420px; }
  .media-video {
    position: relative;
    transform: none;
    left: auto;
    top: auto;
    min-width: 100%;
    min-height: 100%;
    width: 100%;
    height: 420px;
    object-fit: cover;
  }
  .media-overlay { position: absolute; }

  .contact-content { align-items: flex-start; flex-direction: column; padding: 18px; gap: 14px; }
  .contact-panel { width: 100%; margin: 16px 0 0 0; max-width: 720px; }
  .socials { margin-left: 0; justify-content: center; }
}

/* narrow screens: center socials and actions */
@media (max-width: 420px) {
  .panel-actions { justify-content: center; gap: 12px; }
  .socials { margin-left: 0; justify-content: center; }
  /* reduce some padding to help with vertical space */
  .contact-content { padding: 14px; gap: 12px; }
  .contact-panel { padding: 18px; }
}

/* reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .spinner { display:none; }
  .panel-link, .btn-email, .icon { transition: none !important; }
}
